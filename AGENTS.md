# エージェント運用指針

## 共通原則
- すべての人間が目にする出力（プルリクエスト本文、コメント、チャット応答など）は厳格に日本語で作成すること。
- プロンプト設計や機能追加を行う際は、将来的な拡張や複数モデルの並行運用を前提にモジュール化・抽象化を徹底すること。

## プロンプトおよびシステム設計
1. プロンプトや会話フローは設定ファイル・テンプレート・モジュールに分離し、モデル追加・切り替え時に最小限の変更で対応できる構造にする。
2. 拡張を見越して各プロンプト要素にバージョンと責務を明記し、差分管理とロールバックを容易にする。
3. モデル固有の制約や特徴はアダプタ層に吸収させ、プロンプト本体はモデル非依存の形で記述する。

## モデルの切り替え・複数同時利用
1. モデル選択ロジックは設定ファイルまたは依存注入で制御し、同一セッション内での動的切り替えに対応できるようにする。
2. 複数モデルを併用する場合は、用途・優先度・フォールバック条件を明文化し、リクエスト単位で切り替え可能なAPI設計を採用する。
3. モデルごとのリソース使用状況やレスポンスタイムを記録し、選択指針に活かすログ・メトリクス基盤を維持する。

## ツール起動時のモデル確認
- すべての内部ツール・スクリプトでは、起動時に利用するモデル名・バージョンをログもしくは標準出力へ明示的に記録し、監査やデバッグ時に即座に確認できるようにすること。

## ドキュメントとレビュー
- 設計変更や新規ツール追加時は、本ファイルの指針を満たしているかをレビュー項目として必ず確認すること。

